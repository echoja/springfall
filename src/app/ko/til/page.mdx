import ArticleImage from "@modules/article/ArticleImage";

# TIL

이라고 쓰고 잡탕구리일기라고 읽는다.

## 목차

## 2026-01-04 (일)

- K 모임: 다들 여전함. 넘쳐나는 혜택 정보에 머리가 어질어질하다. 일단 신용카드부터 만들어야지. (신한카드 hi point) 카카오페이에서 해당 카드사에 카드 처음 만들면 리워드 준단다. 굿. 헤엄은 카드 발급 이벤트 빠삭한 유튜브를 추천해줬다. (https://youtu.be/9VKR8chAiJg?si=YyErKKZAMFXQz55M)
- 점심으로 중화객잔수 먹었다. 중국집. 짬뽕, 탕수육, 볶음밥, 간짜장 모두 맛있었다. 근본이 있는 집이다.
- 토플 공부는 꽤 빡셀 예정이다. 조지아 테크를 위한 토플 공부이다. 이거 참 난이도가 장난이 아니네. 무빙 준비랑 함께 진행할 수 있을지 모르겠다. 해커스에서 구유형 프로모션이 오늘까지 진행하길래 내일부터 신유형 프로모션이 진행된다는 걸로 추정된다. 내일 다시 보고 동스리가 연락준단다.
- direnv는 multi-line env variables를 지원하지 않는다 (https://github.com/direnv/direnv/issues/1028)
- `codex` 명령어 옵션 세팅하기 힘들다... 왜이렇게 세팅이 꽁꽁 숨겨져있냐. 아마 계속 빠르게 변해서 정리가 잘 안되나보다. (https://developers.openai.com/codex/config-reference)
- OneSignal 이라는 좋은 서비스가 있네. 모바일 푸시 알림이 무제한이고 월 10,000개의 무료 이메일 보낼 수 있다고? 진짜로? 당장 빌드톡 이걸로 바꾼다.
- DigitalOcean 에서 alert 추가하는 건 공짜라고 한다... 굿. https://github.com/buildtalkk/infra/commit/554a0285e7f5edabab37b265c9beba5a3cd83af0 

```
# Monitoring alerts
resource "digitalocean_monitor_alert" "k8s_node_cpu_80" {
  alerts {
    slack {
      channel = "#알림-배포-인프라"
      url     = "https://hooks.slack.com/services/..."
    }
  }

  description = "buildtalk k8s node CPU > 80%"
  type        = "v1/insights/droplet/cpu"
  compare     = "GreaterThan"
  value       = 80
  window      = "5m"
  enabled     = true
  tags        = ["buildtalk-k8s-node"]
}
```

- 아니 근데 OneSignal 사전 승인 절차 귀찮네...
- 여러모로 english-punch를 실제로 출시하고 싶다. 그렇게 하기 위해선 글로벌하게 해야 한다. **한국어, 영어, 일본어**를 모두 지원하자. 그래서 english-punch react-i18n 으로 번역해달라고 하니까 43m 21s 나 걸렸다. 왠지 오래 걸려서 그만큼 신뢰가 있네... 좀 복잡하긴 하지. 코드 리뷰를 열심히 하진 않겠다.
- 이번 주말, 글도 써야 하고, 무빙 준비도 하고, 아사나 정리, 렛커 SEO 정리 등도 하지 못했다. english-punch 만 거의 주구장창 만졌다. 만지는 게 재밌긴 하지만 인생은 재미로만 살면 안되는데... 흑흑...
- GitHub 이슈를 만들어서 copilot에게 시키는 건 생각보다 효율이 안나온다. 찐빠가 약간 나기도 하고 결국 내가 직접 잘 돌아가는지 체크해야 한다. 풀리퀘 왔다갔다 하는 것도 귀찮다. 그런데 이슈를 만드는 방식은 좋다. 왜냐하면 어떤 작업의 정의가 남기 때문이다. 단순히 codex에게 일을 시킨다면 그 프롬프트는 남지가 않는데, 이슈를 prompt로서 사용한다면 그 기록이 남으니 여러모로 유용하다. 하여튼 copilot이 풀리퀘를 만드는 방식은 어차피 직접 확인해야 해서 불편하고, 하지만 이슈는 기록이 남는다는 이점이 있기 때문에, 일단 **이슈를 만든 다음 codex-cli에 GitHub MCP 기능을 붙여서 해당 이슈를 해결해달라는 방식**으로 진행하니까 좀 좋다. 커밋에 이슈 번호를 언급을 하면 Fixes 로 뜨면서 해당 커밋을 메인에 올리면 자동으로 이슈가 close 되니까 이슈 관리도 편하다. 이거 회사 업무에도 활용한다고 하면, 아사나 MCP를 codex-cli에 붙여서 하는 것도 좋은 아이디어일 것 같다.

import i260104_1 from "./2026-01-04-1.png";

<ArticleImage img={i260104_1} alt="" />

- 영어 단어장 단어 개수가 150개를 넘었다. 영단어 공부에 집중이 좀 잘 되는 것 같기도 하다. 시간만 잘 가고 효율이 안나는 것일 수도 있다. 방심하지 말자. 
- english-punch 삭제하면 바로 hard delete 가 되어 버려서 좀 무섭다. 이거 빠르게 수정해야겠다.


## 2026-01-03 (토)

- 세끼김밥에서 떡국 먹었다. 아주 든든든든 해지는 기분이다. 포만감 MAX
- [파머스카페] 용님이 백엔드 과제전형에 대해서 설명해주었다. 역시 빡세보인다. 나에게 무빙이란 도대체 시간이 얼마나 걸릴까? 초연해진 채로 꾸준히 하는 수밖에 없다.
- english-punch 를 개선하면서 영어 공부에 대해 얕게 생각했다. 개선하면서 [issue](https://github.com/englishpunch/english-punch-app/issues/3)를 영어로 쓰고 Copilot에게 도움을 받고 하니 시간이 배로 걸린다. Should I really write this TIL in English? Let's go! No pain, no gain. Um... 그래도 한글을 조금 더 사랑하자. How about 한글 70%, English 30%?
- english-punch convex 업데이트했다람쥐 (https://news.convex.dev/db-table-name/) 계속해서 english-punch를 업데이트하고 싶은 욕망이 많이 든다.
- 소화 산책을 한답시고 뚝섬으로부터 성수까지 좀 걸었는데 사람이 점점점점 많아졌다. 마르헨제이 팝업스토어도 봤는데 엄청 잘 나가는 걸 보니까 신기했담.
- 노션에서 경력기술서를 살짝 업데이트했다. 기여도를 넣어야 할까? 그런데 업데이트 시간이 어마어마하게 걸린다. 겨우 몇줄 하는 데 몇시간을 쓴다. 이거 가망이 있나? 좀 더 통합을 해봐야겠다...
- codex에게 rrweb 설명 하랬더니 너무 산만해서 이거 참 AI로 경력기술서 작성하기 어렵다. 아직 효율적인 루틴을 찾지 못했다.

> **Compressed Action List (4 Bullets)**
>
>  - 데이터 수집 최적화 및 보안: rrweb 입력 마스킹, 세션 가드(1시간), 이벤트 상한(3,000개), 주기적 풀스냅샷 및 대형 이미지 제외를 적용하여 데이터 경량화와 수집 효율을 극대화했습니다.
>  - 전송 안정성 및 효율 강화: gzip 압축, 배치 전송, AWS Lambda 6MB 제한에 맞춘 청킹(Chunking) 로직 및 sendBeacon 기반의 재시도 메커니즘을 구현하여 데이터 유실 없는 전송 환경을 구축했습니다.
> - 스토리지 파이프라인 설계: DynamoDB(7일 TTL) 저장 및 64KB 초과 데이터의 S3 오프로드 시스템을 구축했으며, 미처리 레코드를 최적 크기(5~10MB)로 병합·분할하여 S3 업로드 및 세션 지표를 관리했습니다.
> 분석 인터페이스 및 플레이어 구현: GraphQL 기반 조회와 S3 Pre-signed URL 환경을 구축하고, 타임스탬프 기반 이벤트 병합과 배속·비활성 구간 스킵 기능이 포함된 전용 로그 플레이어를 개발했습니다.

- 아.. 좀 늦게 잔다. 현재 시각 12시 넘음. 이놈의 english-punch 만지는 게 왜이렇게 멈출 수가 없냐. (재미가 있는지는 잘 몰르겠다. 약간 소모되는 기분. 나 스스로 무덤을 파는 느낌) 덕분에 원래 하려고 했던 것들을 많이 못했다. 빌드톡도 좀 만져야 하고... 내일 아침에 일어나서 스트레칭 후 하기 싫은 일들을 해야겠다. 그리고 이력서 접수를 목표로 좀 잡긴 해야겠다. (진도가 안나감)
- NotebookLM이라는 걸 소개받아서 써본다. 구글에서 만든 통합(?) AI 도구. https://docs.convex.dev/llms-full.txt 를 넣고 돌려봤다. 새로운 걸 학습할 때 좋을 거 같기도 하고... 애매한 인상이다. 우측에 있는 **스튜디오**가 뭔가 애매하다. 뭘 위해 있는 거지?
- 빨리 자야겠다.


## 2026-01-02 (금)

- 회사에 갔다. 집에 있으면 집중이 안될 거 같아서. 사무실에 사람은 완전 없었다.
- 오랜만에 필수님과 캐네이디언 카페에 멜트 먹으러 갔다. 내용물이 좀 부실해진 것 같다. 버섯 추가까지 했건만.
- 메시징 결과 확인 작업을 보스님에게 넘겼다. 마지막으로 체크할 때마다 뭐이리 개선점이 많이 보이냐. 일단 아사나에 왕창 써놓고 생각하지 말아야지. 머리를 비우자 태훈아.
- 고객응대. 통계 값이 맞는지 체크해달란다. 힘이 든다. 해당 통계값을 볼 때 데이터 검증용 쿼리를 빠르게 생성해주는 절차를 자동화해야겠다는 생각이 아주 강력하게 든다. 또 아사나에 하나 썼다.
- 메시징캠페인 관련하여 유저 가이드를 썼다. 역시 쓰면서 개선해야 할 점이 또 보인다.
- 저녁으로 김천에 혼자 갔다. 맛있었다. TV에는 금쪽이가 등장했다. 주방 이모들이 유심히 보고 있었다.
- 20:00에 레카 면접을 보았다. 시간을 내주셔서 저희가 더 감사합니다 라고 했다. 진솔된 태도가 맘에 든다. 천안에 사신다고 했다. 천안에 사는 사람이 참 많아.
- 말미에 원펑님이랑 작디작은 이야기를 했다. 그러다 푸시 시스템 어떻게 할거냐는 이야기가 나왔다. 진짜 어떻게 하지? 다음주에 이 상황의 심각성을 동구님에게 알리자.
- 내일 모각작 모집 글을 소심하게 글또에 올렸는데 감사하게도 두 분이 반응을 해주셨다. 성수 파머스카페. 렛츠고. 구렁텅이의 손아귀에서 벗어나기 위해 방심하지 말자.

## 2026-01-01 (목)

- 새해가 밝았다. 오...
- 내 .zshrc를 분석해서 뭔가 프로그램이 설치되어 있는지 아닌지 확인하는 스크립트를 만들었다. https://github.com/echoja/settings 사족을 왕창 달았다면, 쉘 스크립트로 하는 게 아니라 파이썬으로, uv로, typer로 이용해서 했다는 것. 막 로직적으로 특이한 건 없다. 리스트도 스크립트에 하드코딩 되어 있다. `uv`라는 이름이 뭔가 간지나는 것 같다.
- *앨저넌에게 꽃을*이라는 책을 읽고 있다. 멍청이 주인공이 무슨 수술을 받아서 시한부 똑똑이가 되는 이야기다. 대략 가운데 1/3를 읽었다. 뭔가 아쉽다. 레파토리는 평범한 듯 하고 주인공은 별로 매력이 없다.
- 이 블로그, uttrances → Giscus로 옮겼다. 
- 3가지 키워드를 정했다. **글쓰기**, **방심하지마**, **우직**.
- 영어 공부를 어떻게 하지? 고민
- 내일 20:00에 렛커 면접이 있다. 약간 부담이 된다. 나는 작업에 거의 참여하지 않는데 사람을 뽑아야 한다니
- 하루 동안 한 것만 해도 이렇게 정리할 게 많은데 정리라는 건 정말로 할 수 있는 걸까?
- 2025년 12월 자산정리 완료
- GitHub 레포지토리 등을 정리했다. 안쓰는 거는 Public Archive 하고, 남겨놓을 의미가 없는 건 삭제했다. 가능하면 renovate는 1달에 한번으로 주기를 늘렸다. 이제 메일이나 읽어야지...

### BuildTalk

[BuildTalk](https://buildtalk.info/) 에 문제가 생겼었다. 너네 Droplet에서 비정상적인 네트워크 트래픽이 발생했고 아마 해킹 당한거 같다. Droplet 싹 지우고 키 같은거 바꿔라. 라더라.

```text
Following up on ticket 500QP00001BZLtyYAH, we are writing to let you know that your Droplet worker-pool-6hu4o at 165.22.62.121 has continued to contribute to a Distributed Denial of Service attack. To reduce further harm, we have taken action to block the outbound flooding activity from your Droplet.

Details of the Attack:-
Source IP:- 165.22.62.121
Total traffic used in attack:-  2,412,164 pps
worker-pool-6hu4o contribution in attack:-  33,518 pps
Target of attack:- 185.121.226.110
Total Number of Droplets involved:- 32
```

진짜 확인해보니 문제가 있긴 하더만. 네트워크 요청과 별개로 최근 2주간 CPU 100% 찍혀있는 게 엄청 많았다.

이제는 아래 이미지처럼 정상이다.

import i260101_1 from "./2026-01-01-1.png";

<ArticleImage img={i260101_1} alt="" />

원인은 [React2Shell](https://vercel.com/kb/bulletin/react2shell) 취약점 때문인 것 같다. 유출될 만한 키가 없는데 (DOKS로 배포하고 있고 거기에서 쓰는 키는 생성한 적도 없고 써본 적도 없다) Droplet이 개떡처럼 동작한다니. 누가 원격 코드를 어떻게 잘 우회해서 실행한 걸로밖에 보이지 않는다. Sentry에서 뭔가 [의심스러운 POST](https://build-talk-co-ltd.sentry.io/issues/7157194655/) 요청이 오긴 했는데 그게 이건지는 확인하지 않았다.


